---
  title: "증권사 계약입금"
  categories:

    - Tech
  tags: 
    - 증권사 계약입금
    - 증권
    - 금융IT
  toc: true
  toc_sticky: true
  toc_label: 목차
  popular: true
---
## **증권사 계약입금**

### **1. 계약 이란?**

증권사의 신탁이나 펀드 등을 고객이 신청서 작성 후 매매를 하려 할 경우, 증권사에선 고객계좌번호에 계약번호(3자리)를 추가해 계약을 맺어줍니다. 고객은 새로운 계약을 맺을 경우 기존계좌번호에 계약번호만 추가해 계좌개설 없이 상품을 매매할 수 있습니다.

예를 들어 AA증권에서 부자아빠 펀드를 매월 10만원씩 24개월간 매수하는 계약을 맺을 경우, 기존 또는 신규 ‘A’계좌에 계약번호를 붙인 계좌번호가 생성됩니다. 그리고 ‘A-계약번호’로 자동이체를 걸어두면 ‘A-계약번호’계좌에서 매월 10만원씩 부자아빠 펀드가 매수되게 됩니다.

### **2. 계약의 종류 및 특징**



증권사마다 다를 수 있지만, 일반적으로 펀드, 신탁, 랩 등의 계약이 있습니다.

1) 특징
**펀드:** 일반 개인이 가장많이 하는 상품으로 ‘BRICS 펀드’, ‘디스커버리 펀드’ 등이 유명한 펀드이며, 펀드의 종류마다 즉시 매수되는 펀드와 매수신청 이후 특정일에 매수가 되는 펀드가 있습니다.

**신탁:** 일정금액 이상의 목돈으로 투자가능한 상품이 다수라 일반 개인이 가입하는 경우는 적은 것으로 알고있습니다. 과거 한국투자신탁(현 한국투자증권), 대한투자신탁(현 하나대투증권), 국민투자신탁( 1999년 현대투자신탁 -> 푸르덴셜투자증권 -> 한화투자증권) 등이 유명하였지만 모두 증권사에 합병되어 현재는 증권사에서 신탁업무를 하는 경우가 많습니다.

**랩:** 증권사에서 운용하는 종합자산 관리 방식의 상품으로 고객과 계약을 맺은 대표계좌와 연결된 운용계좌로 자금을 대체해 운용한 이후 일정 수수료를 고객이 지불하는 방식으로 운영됩니다. 대표계좌는 고객계좌이며, 운용계좌는 증권사 계좌입니다. 랩운용계좌는 직접 입출금은 불가하며, 고객의 대표계좌를 통해서만 입출금이 가능합니다.



### **3. (계약)입금 모듈 설계**



입금모듈을 설계할 경우, 계좌로 입금될 경우와 계약으로 입금될 경우를 모두 고려해 설계하는 것이 바람직합니다. 이 둘을 분리해 개발하게 되면, 여러 프로그램에서 입금과 계약매수 모듈을 분리해 호출하는 불편함이 있습니다.

위 내용 중 예수금잔고 증가와 거래내역 생성이 입금의 역할이지만, 계약입금을 위해 계약정보조회와 계약매수모듈 호출을 입금모듈에서 포함해 설계되어야 합니다.

```sql
'##입금모듈
 

예수금잔고 증가
거래내역 생성

IF 계약번호<> NULL THEN
  계약정보 조회
  IF 계약정보 == 펀드계약 THEN
   펀드매수모듈 호출
  ELSE IF 계약정보 == 신탁계약 THEN
   신탁매수모듈 호출
  ELSE IF 계약정보 == 랩계약 THEN
   랩매수모듈 호출
  ELSE
   RETURN '오류'
  END IF
END IF

RETURN 처리결과
```





### **4. 계약별 거래내역 생성방식**



고객이 계약으로 입금할 경우 계좌를 통해서 입금액이 계약으로 전달되게 됩니다. 각 계약의 특징으로 거래내역 생성방식이 차이가 있습니다.
아래 표는 A라는 계좌에서 ‘001’계약으로 100원을 입금할 경우를 표시한 경우 입니다.

**4.1 신탁계약으로 입금**

| 거래번호 | 계좌번호 | 계약번호 | 거래유형 | 거래금액 | 거래수량 | 거래후 예수금 | 거래후 수량 |
| :------- | :------- | :------- | :------- | :------- | :------- | :------------ | :---------- |
| 1        | A        |          | 입금     | 100      | 0        | 100           | 0           |
| 2        | A        | 001      | 매수     | 100      | 100      | 0             | 100         |

**4.2 펀드계약으로 입금**

– 당일 즉시매수펀드인 경우 2번 거래내역은 생성되지 않습니다.

| 거래번호 | 계좌번호 | 계약번호 | 거래유형 | 거래금액 | 거래수량 | 거래후 예수금 | 거래후 수량 |
| :------- | :------- | :------- | :------- | :------- | :------- | :------------ | :---------- |
| 1        | A        |          | 입금     | 100      | 0        | 100           | 0           |
| 2        | A        | 001      | 매수신청 | 100      | 0        | 100           | 0           |
| 3        | A        | 001      | 매수     | 100      | 100      | 0             | 100         |

**4.3 랩계약으로 입금**

– 랩계약으로 입금시 고객의 대표계좌 A에서 랩운용계좌 B로 대체 됩니다.
– 랩매수는 고객계좌에서 출금되어 운용계좌로 입금되는 대체거래를 의미하게 됨으로 예수금의 변동만 있게 되고, 수량의 변화는 없습니다. 실제 매수행위는 운용계좌 B에서 랩운용팀에 의해 별도로 발생하게 됩니다.
– 아래 표는 1개의 랩계약에 운용계좌가 1개만 있는 경우의 거래내역 입니다.

| 거래번호 | 계좌번호 | 계약번호 | 거래유형         | 거래금액 | 거래후 예수금 |
| :------- | :------- | :------- | :--------------- | :------- | :------------ |
| 1        | A        |          | 입금             | 100      | 100           |
| 2        | A        | 001      | 랩매수(대체출금) | 100      | 0             |
| 1        | B        |          | 대체입금         | 100      | 100           |

– 아래 표는 1개의 랩계약에 운용계좌가 3:7 비율로 2개가 존재할 경우 입니다. 고객이 100원을 랩계약으로 입금할 경우 고객의 대표계좌 A에서 랩운용계좌 B, C로 3:7 비율로 대체되게 됩니다.